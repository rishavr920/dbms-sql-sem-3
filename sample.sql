create database sales;
use sales;
CREATE TABLE CLIENT_MASTER (
	CLIENTNO VARCHAR(6) CHECK(CLIENTNO LIKE 'C%'),
    NAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30),
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(15),
    PINCODE INT8,
    STATE VARCHAR(15),
    BALDUE NUMERIC(10,2), primary key(CLIENTNO)
);


CREATE TABLE PRODUCT_MASTER(
  PRODUCTNO VARCHAR(6) Check(PRODUCTNO LIKE 'P%'),
  DESCRIPTION VARCHAR(15) NOT NULL,
  PROFITPERCENT NUMERIC(4,2) NOT NULL,
  UNITMEASURE VARCHAR(10) NOT NULL,
  QTYONHAND INT8 NOT NULL,
  REORDERLVL INT8 NOT NULL,
  SELLPRICE NUMERIC(8,2) NOT NULL check(SELLPRICE>0),
  COSTPRICE NUMERIC(8,2) NOT NULL check(COSTPRICE>0),
  PRIMARY KEY(PRODUCTNO)
);

CREATE TABLE SALESMAN_MASTER(
	SALESMANNO VARCHAR(6) CHECK (SALESMANNO LIKE "S%"),
    SALESMANNAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30) NOT NULL,
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(20),
    PINCODE INT8,
    STATE VARCHAR(20),
    SALAMT NUMERIC(8,2) NOT NULL CHECK (SALAMT > 0),
    TOTTOGET NUMERIC(6,2) NOT NULL CHECK (TOTTOGET > 0),
    YTDSALES NUMERIC(6,2) NOT NULL,
    REMARKS VARCHAR(60),
    PRIMARY KEY (SALESMANNO)
);

CREATE TABLE SALES_ORDER(
	ORDERNO VARCHAR(6) CHECK (ORDERNO LIKE "O%"),
    CLIENTNO VARCHAR(6),
    ORDERDATE DATE NOT NULL,
    DELYADDR VARCHAR(25),
    SALESMANNO VARCHAR(6),
    DELYTYPE CHAR DEFAULT 'F' CHECK(DELYTYPE in("P","F")),
    BILLYN CHAR(1),
    DELYDATE DATE,
    ORDERSTATUS VARCHAR(10) CHECK(ORDERSTATUS in ("In Process","Fulfilled","BackOrder","Cancelled")),
	PRIMARY KEY(ORDERNO),
    FOREIGN KEY (CLIENTNO) references CLIENT_MASTER(CLIENTNO),
    FOREIGN KEY (SALESMANNO) references SALESMAN_MASTER(SALESMANNO), check(DELYDATE>=ORDERDATE)
);



CREATE TABLE SALES_ORDER_DETAILS(
	ORDERNO VARCHAR(6),
    PRODUCTNO VARCHAR(6),
    QTYORDERED INT8,
    QTYDISP INT8,
    PRODUCTRATE NUMERIC(10,2),
    FOREIGN KEY (ORDERNO) references SALES_ORDER(ORDERNO),
    FOREIGN KEY (PRODUCTNO) references PRODUCT_MASTER(PRODUCTNO)
);	

INSERT INTO CLIENT_MASTER (CLIENTNO, NAME, ADDRESS1, ADDRESS2, CITY, PINCODE, STATE, BALDUE)
VALUES
('C00001', 'John Doe', '123 Main St', 'Near City Park', 'New York', 10001, 'NY', 1000.00),
('C00002', 'Jane Smith', '456 Elm St', 'Apt 4A', 'Los Angeles', 90001, 'CA', 500.00),
('C00003', 'Bob Johnson', '789 Oak St', 'PO Box 456', 'Chicago', 60001, 'IL', 2000.00),
('C00004', 'Alice Brown', '123 Maple St', 'Suite 202', 'Houston', 77001, 'TX', 1500.00),
('C00005', 'Mike Davis', '456 Pine St', 'Near Beach', 'Seattle', 98101, 'WA', 2500.00),
('C00006', 'Rishav', 'Pankhatoli', 'Muzaffarpur', 'Banglore', 985691, 'WA', 2500.00),
('C00007', 'Shiwani', 'New Delhi', 'Gautam Buddha nagar', 'Manglore', 985695, 'WA', 2000.00);





INSERT INTO PRODUCT_MASTER (PRODUCTNO, DESCRIPTION, PROFITPERCENT, UNITMEASURE, QTYONHAND, REORDERLVL, SELLPRICE, COSTPRICE)
VALUES
('P00001', 'Product 1', 10.00, 'units', 100, 50, 525.00, 450.00),
('P07965', 'Product 2', 20.00, 'units', 50, 25, 8400.00, 7000.00),
('P07885', 'Product 3', 15.00, 'units', 75, 40, 5250.00, 4500.00),
('P03453', 'Product 4', 12.00, 'units', 200, 100, 1050.00, 900.00),
('P06734', 'Product 5', 25.00, 'units', 30, 20, 12000.00, 10000.00),
('P07868', 'Product 6', 18.00, 'units', 150, 75, 3150.00, 2680.00),
('P0345', 'Product 7', 12.00, 'units', 200, 100, 1050.00, 900.00),
('P07975', 'Product 8', 22.00, 'units', 100, 50, 1050.00, 850.00);

INSERT INTO SALESMAN_MASTER (SALESMANNO, SALESMANNAME, ADDRESS1, ADDRESS2, CITY, PINCODE, STATE, SALAMT, TOTTOGET, YTDSALES, REMARKS)
VALUES
('S00001', 'Samuel Lee', '101 Sales St', 'Near City Mall', 'New York', 10001, 'NY', 50000.00, 1000.00, 5000.00, 'Top Salesman'),
('S00002', 'Emily Chen', '202 Sales Ave', 'Apartment 3B', 'Los Angeles', 90001, 'CA', 40000.00, 8000.00, 4000.00, 'Excellent Salesman'),
('S00003', 'David Kim', '303 Sales Blvd', 'Suite 101', 'Chicago', 60001, 'IL', 60000.00, 1200.00, 6000.00, 'Best Salesman'),
('S00004', 'Sarah Taylor', '404 Sales Dr', 'PO Box 123', 'Houston', 77001, 'TX', 45000.00, 9000.00, 4500.00, 'Good Salesman');


INSERT INTO SALES_ORDER (ORDERNO, CLIENTNO, ORDERDATE, SALESMANNO, DELYTYPE, BILLYN, DELYDATE, ORDERSTATUS)
VALUES
('O19001', 'C00001', '2004-06-12', 'S00001', 'F', 'N', '2004-07-20', 'In Process'),
('O19002', 'C00002', '2004-06-25', 'S00002', 'P', 'N', '2004-06-27', 'Cancelled'),
('O46865', 'C00003', '2004-02-18', 'S00003', 'F', 'Y', '2004-02-20', 'Fulfilled'),
('O46866', 'C00004', '2004-05-20', 'S00002', 'P', 'N', '2004-05-22', 'Cancelled'),
('O19003', 'C00001', '2004-04-03', 'S00001', 'F', 'Y', '2004-04-07', 'Fulfilled'),
('O19008', 'C00005', '2004-05-24', 'S00004', 'F', 'N', '2004-07-26', 'InÂ Process');

INSERT INTO Sales_Order_Details (OrderNo, ProductNo, QtyOrdered, QtyDisp, ProductRate)
VALUES 
('O19001', 'P00001', 4, 4, 525),
('O19001', 'P07965', 2, 1, 8400),
('O19001', 'P07885', 2, 1, 5250),
('O19002', 'P00001', 10, 0, 525),
('O46865', 'P07868', 3, 3, 3150),
('O46865', 'P07885', 3, 1, 5250),
('O46865', 'P00001', 10, 10, 525),
('O46865', 'P0345', 4, 4, 1050),
('O19003', 'P03453', 2, 2, 1050),
('O19003', 'P06734', 1, 1, 12000),
('O46866', 'P07965', 1, 0, 8400),
('O46866', 'P07975', 1, 0, 1050),
('O19008', 'P00001', 10, 5, 525),
('O19008', 'P07975', 5, 3, 1050);





